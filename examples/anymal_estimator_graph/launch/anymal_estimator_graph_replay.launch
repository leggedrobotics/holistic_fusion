<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <!-- Parameters -->
    <arg name="use_sim_time" value="true"/>
    <!-- <arg name="dumped_param_file"
         default="$(find anymal_estimator_graph)/config/dumped_params_d/2023-01-13-16-27-14_anymal-d020-lpc_mission.yaml"/> -->
    <arg name="run_estimator" default="true"/>
    <arg name="rviz_file_path" default="$(find anymal_estimator_graph)/rviz/gnss_lidar.rviz"/>

    <!-- Input Topics -->
    <arg name="imu_topic_name" default="/zed2i/zed_node/imu/data"/>
    <arg name="lidar_odometry_topic_name"
         default="/lidar_points"/>  <!-- /open3d_slam/scan2map_odometry  /compslam_lio/odom_aft_mapped_to_init_CORRECTED  -->

    <!-- Load dumped parameters, mainly for description -->
    <!-- <rosparam command="load" file="$(arg dumped_param_file)"/> -->

    <!-- Launch Stack -->
    <include file="$(find anymal_estimator_graph)/launch/anymal_estimator_graph.launch" if="$(arg run_estimator)">
        <!-- Input Topics -->
        <arg name="use_sim_time" value="$(arg use_sim_time)"/>
        <arg name="imu_topic_name" value="$(arg imu_topic_name)"/>
        <arg name="lidar_odometry_topic_name" value="$(arg lidar_odometry_topic_name)"/>
    </include>

    <!-- RVIZ for Visualization -->
    <node type="rviz" name="rviz" pkg="rviz" args="-d $(arg rviz_file_path)" required="true" output="screen"/>

</launch>
