<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <!-- Parameters -->
    <arg name="use_sim_time" value="true"/>

    <!-- Config -->
    <arg name="extrinsics_from_urdf"        default="false"/>
    <arg name="using_gnss_unary"            default="true"/>
    <arg name="using_lio_unary"             default="false"/>
    <arg name="using_lio_between"           default="false"/>
    <arg name="using_legged_between"        default="false"/>
    <arg name="using_legged_velocity_unary" default="false"/>

    <!-- Input Topics -->
    <arg name="imu_topic_name"             default="/sensors/imu" />
    <arg name="lidar_odometry_topic_name"  default="/open3d_slam/scan2map_odometry" />  <!-- /open3d_slam/scan2map_odometry  /compslam_lio/odom_aft_mapped_to_init_CORRECTED  -->

    <!-- Load dumped parameters, mainly for description 
    <rosparam command="load" file="$(arg dumped_param_file)"/>-->

    <!-- Launch Stack -->
    <include file="$(find anymal_estimator_graph)/launch/anymal_estimator_graph.launch">
        <!-- Config  -->
        <arg name="extrinsics_from_urdf" value="$(arg extrinsics_from_urdf)"/>
        <arg name="using_gnss_unary" value="$(arg using_gnss_unary)"/>
        <arg name="using_lio_unary" value="$(arg using_lio_unary)"/>
        <arg name="using_lio_between" value="$(arg using_lio_between)"/>
        <arg name="using_legged_between" value="$(arg using_legged_between)"/>
        <arg name="using_legged_velocity_unary" value="$(arg using_legged_velocity_unary)"/>
        <!-- Input Topics -->
        <arg name="use_sim_time" value="$(arg use_sim_time)"/>
        <arg name="imu_topic_name" value="$(arg imu_topic_name)"/>
        <arg name="lidar_odometry_topic_name" value="$(arg lidar_odometry_topic_name)"/>
    </include>

    <!-- RVIZ for Visualization -->
    <node type="rviz" name="rviz_gmsf" pkg="rviz" args="-d $(find anymal_estimator_graph)/rviz/gnss_lidar.rviz"/>

</launch>
